<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products Block</title>
    <link rel="stylesheet" href="../../css/common/normalize.css">
    <link rel="stylesheet" href="../../css/common/consts.css">
    <link rel="stylesheet" href="../../css/common/owl.carousel.min.css" >
    <link rel="stylesheet" href="../../css/common/owl.theme.default.min.css" >
    <link rel="stylesheet" href="../button/css/button.css">
    <link rel="stylesheet" href="../card-product/css/card-product.css">
    <link rel="stylesheet" href="css/products.css">
</head>
<body style="background-color: lime;">
    <div class="wrapper">
        <div class="products">
            <div class="products__cards">  
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-product products__card">
                    <div class="card-product__image">
                    <img class="card-product__image-img"
                        src="../../images/card-product/magic-h-black.webp"
                        alt="Кресло FoxGear Netz модель X">
                    </div>
                    <div class="card-product__content">
                        <div class="card-product__title">
                            Офисное кресло FoxGear Netz модель X
                        </div>
                        <div class="card-product__description">
                            Эргономичное кресло для домашнего офиса с адаптивной поддержкой поясницы
                        </div>
                        <div class="card-product__price">
                            79 р. <span class="card-product__price-old">200 р.</span>
                        </div>
                        <div class="card-product__buttons">
                            <button class="button card-product__button">
                                Подробнее
                            </button>
                            <button class="button card-product__button button_outlined">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../scripts/util/jquery-3.7.1.min.js"></script>
    <script src="../../scripts/util/owl.carousel.min.js"></script>
    <script>
        $(document).ready(function() {
          let carouselInitialized = false;
          const $cardsContainer = $('.products__cards');
    
          function initCarousel() {

            if ($(window).width() < 767 && !carouselInitialized) {
                console.log('Init!');
              $cardsContainer.addClass('owl-carousel owl-theme').owlCarousel({
                items: 1,
                loop: true,
                nav: false,
                dots: true,
                autoplay: true,
                autoplayTimeout: 5000,
              });
              carouselInitialized = true;
            }
          }
    
          function destroyCarousel() {
            if ($(window).width() >=767 && carouselInitialized) {
              $cardsContainer.trigger('destroy.owl.carousel').removeClass('owl-carousel owl-theme');
              carouselInitialized = false;
            }
          }
    
          initCarousel();
          destroyCarousel();
    
          $(window).resize(function() {
            initCarousel();
            destroyCarousel();
          });
        });
      </script>
</body>
</html>
